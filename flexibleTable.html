<!-- flexibleTable.html -->
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Flexible Table with Dynamic Filters</title>
<style>
  .clickable { cursor: pointer; }
  .indent { padding-left: 20px; }
</style>
</head>
<body>

    <div id="filtersDiv"></div>
    <div id="tableContainer"></div>
    
    <script type="module">
        import { FlexibleTable } from './flexibleTable.js';
        import { FilterManager } from './filterManager.js';
        import data from './flexibleTableDataSample.js';

        document.addEventListener('DOMContentLoaded', () => {
            let options = {
                columns: [
                    { field: "name", display: true, title: "Name", type: "string", width: "70px" },
                    { field: "client", display: true, title: "Client", type: "string", width: "100px" },
                    
                ],
                filters: {
                    rowFilters: { Program: true, Project: true, Task: true },
                    // Column filters can be added in the future
                }
            };

            let filterManager = new FilterManager('filtersDiv', filters => {}, options.filters.rowFilters);
            let flexibleTable = new FlexibleTable('tableContainer', data, filterManager.filters, options.columns);
            
            filterManager.onFilterChangeCallback = (filters) => {
                flexibleTable.updateFilters(filters);
            };
        });
    </script>
    
</body>


</html>
